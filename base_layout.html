<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pranav Haridas - Personal Webpage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                packages: ['base', 'ams']
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/ams']
            }
        };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body class="bg-slate-100 text-slate-800 antialiased">

    <header>
        <nav id="main-nav" class="top-nav fixed w-full top-0 left-0 bg-white/90 backdrop-blur-md z-50 shadow-sm border-b border-slate-200">
            <ul class="flex justify-center flex-wrap gap-x-4 sm:gap-x-6 py-3 px-4 max-w-5xl mx-auto">
                <li><a href="https://pranavharidas.github.io/" class="text-slate-600 hover:text-sky-600 font-medium px-3 py-2 rounded-md transition-colors duration-200 ease-in-out">Home</a></li>
                <li><a href="https://pranavharidas.github.io/research" class="text-slate-600 hover:text-sky-600 font-medium px-3 py-2 rounded-md transition-colors duration-200 ease-in-out">Research</a></li>
                <li><a href="https://pranavharidas.github.io/teaching" class="text-slate-600 hover:text-sky-600 font-medium px-3 py-2 rounded-md transition-colors duration-200 ease-in-out">Teaching</a></li>
                <li><a href="https://pranavharidas.github.io/resources" class="text-slate-600 hover:text-sky-600 font-medium px-3 py-2 rounded-md transition-colors duration-200 ease-in-out">Resources</a></li>
            </ul>
        </nav>
    </header>

    <main class="main-container max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">


    </main>

    <footer class="text-center py-6 mt-12 border-t border-slate-200">
        <p class="text-sm text-slate-500">Â© <span id="current-year"></span> Pranav Haridas. All rights reserved.</p>
    </footer>

    <script>
        // --- Navigation Active State Scrollspy ---
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.top-nav a');
        const navHeight = document.getElementById('main-nav')?.offsetHeight || 70; // Get nav height or default

        const activateNavLink = (id) => {
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${id}`) {
                    link.classList.add('active');
                }
            });
        };

        const onScroll = () => {
            let currentSectionId = '';
            const scrollPosition = window.pageYOffset;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                // Adjust threshold: activate slightly before reaching the exact top
                const activationOffset = navHeight * 1.5;

                if (scrollPosition >= sectionTop - activationOffset) {
                    currentSectionId = section.getAttribute('id');
                }
            });

            // Handle edge case: if scrolled past the last section, keep last section active
            const lastSection = sections[sections.length - 1];
            if (scrollPosition + window.innerHeight >= document.documentElement.scrollHeight - 50) { // Near bottom
                    currentSectionId = lastSection.getAttribute('id');
            }

            // Handle edge case: scrolled to the very top
            if (scrollPosition < sections[0].offsetTop - navHeight * 2) {
                    currentSectionId = sections[0].getAttribute('id'); // Default to first section if near top
            }


            if (currentSectionId) {
                activateNavLink(currentSectionId);
            } else if (navLinks.length > 0) {
                // Fallback if no section detected (might happen at the very top)
                activateNavLink(sections[0].getAttribute('id'));
            }
        };

        window.addEventListener('scroll', onScroll);
        // Run on load to set initial state
        window.addEventListener('load', onScroll);


        // --- Set Current Year in Footer ---
        document.getElementById('current-year').textContent = new Date().getFullYear();

    </script>
</body>
</html>
